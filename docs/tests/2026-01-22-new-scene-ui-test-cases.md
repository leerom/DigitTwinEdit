# 新建场景功能 UI 测试用例

**基于设计文档**: `docs/designs/2026-01-22-new-scene-feature.md`
**实施计划**: `docs/plans/2026-01-22-new-scene-feature.md`
**日期**: 2026-01-22

| 用例编号 | 用例名称 | 前置条件 | 操作步骤 | 预期结果 | 优先级 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **TC-001** | **菜单显示检查** | 编辑器已启动 | 1. 点击顶部菜单栏 "场景" (或 "文件") | 1. 下拉菜单中显示 "新建场景" 选项<br>2. 之前的 "清空场景" 选项已不存在 | P0 |
| **TC-002** | **新建场景 - 无未保存修改** | 1. 编辑器已启动<br>2. 当前场景未被修改 (isDirty=false) | 1. 点击菜单栏 "场景" -> "新建场景"<br>2. 在弹出的输入框中输入 "My New Scene"<br>3. 点击 "创建" | 1. 输入对话框关闭<br>2. 场景名称更新为 "My New Scene"<br>3. 层级视图包含 "Main Camera" 和 "Directional Light"<br>4. 3D 视图中可见相机和光源图标 | P0 |
| **TC-003** | **新建场景 - 有未保存修改 - 选择保存** | 1. 当前场景有未保存修改 (isDirty=true)<br>例如：移动了一个物体 | 1. 点击 "新建场景"<br>2. 在确认对话框点击 "保存"<br>3. 输入新场景名称 "Saved Scene"<br>4. 点击 "创建" | 1. 触发保存操作 (下载文件/保存到本地)<br>2. 弹出新场景名称输入框<br>3. 创建新场景成功 | P1 |
| **TC-004** | **新建场景 - 有未保存修改 - 选择不保存** | 1. 当前场景有未保存修改 (isDirty=true) | 1. 点击 "新建场景"<br>2. 在确认对话框点击 "不保存"<br>3. 输入新场景名称 "Discard Scene"<br>4. 点击 "创建" | 1. 不触发保存操作<br>2. 直接弹出新场景名称输入框<br>3. 创建新场景成功，旧修改丢失 | P1 |
| **TC-005** | **新建场景 - 有未保存修改 - 取消** | 1. 当前场景有未保存修改 (isDirty=true) | 1. 点击 "新建场景"<br>2. 在确认对话框点击 "取消" | 1. 对话框关闭<br>2. 停留在当前场景<br>3. 不弹出名称输入框 | P2 |
| **TC-006** | **新建场景 - 名称验证** | 无 | 1. 点击 "新建场景"<br>2. 清空输入框内容 (空字符串)<br>3. 点击 "创建" | 1. 输入框显示错误提示或 "创建" 按钮禁用<br>2. 对话框不关闭 | P2 |
| **TC-007** | **新建场景 - 取消创建** | 无 | 1. 点击 "新建场景"<br>2. 在输入名称对话框点击 "取消" | 1. 对话框关闭<br>2. 停留在当前场景，无任何变化 | P2 |
| **TC-008** | **默认对象属性检查** | 完成新建场景操作 | 1. 在层级视图选中 "Main Camera"<br>2. 在层级视图选中 "Directional Light" | 1. **Camera**: Position [0, 1, -10], FOV 60<br>2. **Light**: Position [0, 3, 0], Intensity 1, Cast Shadow enabled | P1 |
| **TC-009** | **场景视图可视化检查** | 完成新建场景操作 | 1. 观察 3D 视图<br>2. 点击 3D 视图中的相机图标<br>3. 点击 3D 视图中的光源图标 | 1. 相机位置显示相机图标<br>2. 光源位置显示光源图标<br>3. 点击图标后，对应的对象在层级视图中被选中<br>4. 选中光源时显示黄色光线辅助线 | P1 |
